this.createjs=this.createjs||{},function(){var e=createjs.SoundJS=createjs.SoundJS||{};e.version="0.5.0",e.buildDate="Wed, 25 Sep 2013 17:09:35 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(){},t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.on=t.on,e.removeEventListener=e.off=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent,e._dispatchEvent=t._dispatchEvent},t._listeners=null,t._captureListeners=null,t.initialize=function(){},t.addEventListener=function(e,t,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=i[e];return s&&this.removeEventListener(e,t,n),s=i[e],s?s.push(t):i[e]=[t],t},t.on=function(e,t,n,i,s,r){return t.handleEvent&&(n=n||t,t=t.handleEvent),n=n||this,this.addEventListener(e,function(e){t.call(n,e,s),i&&e.remove()},r)},t.removeEventListener=function(e,t,n){var i=n?this._captureListeners:this._listeners;if(i){var s=i[e];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==t){1==a?delete i[e]:s.splice(r,1);break}}},t.off=t.removeEventListener,t.removeAllEventListeners=function(e){e?(this._listeners&&delete this._listeners[e],this._captureListeners&&delete this._captureListeners[e]):this._listeners=this._captureListeners=null},t.dispatchEvent=function(e,t){if("string"==typeof e){var n=this._listeners;if(!n||!n[e])return!1;e=new createjs.Event(e)}if(e.target=t||this,e.bubbles&&this.parent){for(var i=this,s=[i];i.parent;)s.push(i=i.parent);var r,a=s.length;for(r=a-1;r>=0&&!e.propagationStopped;r--)s[r]._dispatchEvent(e,1+(0==r));for(r=1;a>r&&!e.propagationStopped;r++)s[r]._dispatchEvent(e,3)}else this._dispatchEvent(e,2);return e.defaultPrevented},t.hasEventListener=function(e){var t=this._listeners,n=this._captureListeners;return!!(t&&t[e]||n&&n[e])},t.toString=function(){return"[EventDispatcher]"},t._dispatchEvent=function(e,t){var n,i=1==t?this._captureListeners:this._listeners;if(e&&i){var s=i[e.type];if(!s||!(n=s.length))return;e.currentTarget=this,e.eventPhase=t,e.removed=!1,s=s.slice();for(var r=0;n>r&&!e.immediatePropagationStopped;r++){var a=s[r];a.handleEvent?a.handleEvent(e):a(e),e.removed&&(this.off(e.type,a,1==t),e.removed=!1)}}},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){"use strict";var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype;t.type=null,t.target=null,t.currentTarget=null,t.eventPhase=0,t.bubbles=!1,t.cancelable=!1,t.timeStamp=0,t.defaultPrevented=!1,t.propagationStopped=!1,t.immediatePropagationStopped=!1,t.removed=!1,t.initialize=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=(new Date).getTime()},t.preventDefault=function(){this.defaultPrevented=!0},t.stopPropagation=function(){this.propagationStopped=!0},t.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},t.remove=function(){this.removed=!0},t.clone=function(){return new e(this.type,this.bubbles,this.cancelable)},t.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=e}(),this.createjs=this.createjs||{},function(){"use strict";createjs.indexOf=function(e,t){for(var n=0,i=e.length;i>n;n++)if(t===e[n])return n;return-1}}(),this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}}}(),this.createjs=this.createjs||{},function(){"use strict";function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}function n(){this.isDefault=!0,this.addEventListener=this.removeEventListener=this.removeAllEventListener=this.dispatchEvent=this.hasEventListener=this._listeners=this.interrupt=this.playFailed=this.pause=this.resume=this.play=this.beginPlaying=this.cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=function(){return!1},this.getVolume=this.getPan=this.getDuration=function(){return 0},this.playState=e.PLAY_FAILED,this.toString=function(){return"[Sound Default Sound Instance]"}}function i(){}var s=e;s.DELIMITER="|",s.AUDIO_TIMEOUT=8e3,s.INTERRUPT_ANY="any",s.INTERRUPT_EARLY="early",s.INTERRUPT_LATE="late",s.INTERRUPT_NONE="none",s.PLAY_INITED="playInited",s.PLAY_SUCCEEDED="playSucceeded",s.PLAY_INTERRUPTED="playInterrupted",s.PLAY_FINISHED="playFinished",s.PLAY_FAILED="playFailed",s.SUPPORTED_EXTENSIONS=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"],s.EXTENSION_MAP={m4a:"mp4"},s.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,s.defaultInterruptBehavior=s.INTERRUPT_NONE,s.lastId=0,s.activePlugin=null,s.pluginsRegistered=!1,s.masterVolume=1,s.masterMute=!1,s.instances=[],s.idHash={},s.preloadHash={},s.defaultSoundInstance=null,s.addEventListener=null,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s.sendFileLoadEvent=function(e){if(s.preloadHash[e])for(var t=0,n=s.preloadHash[e].length;n>t;t++){var i=s.preloadHash[e][t];if(s.preloadHash[e][t]=!0,s.hasEventListener("fileload")){var r=new createjs.Event("fileload");r.src=i.src,r.id=i.id,r.data=i.data,s.dispatchEvent(r)}}},s.getPreloadHandlers=function(){return{callback:createjs.proxy(s.initLoad,s),types:["sound"],extensions:s.SUPPORTED_EXTENSIONS}},s.registerPlugin=function(e){return s.pluginsRegistered=!0,null!=e&&(!!e.isSupported()&&(s.activePlugin=new e,!0))},s.registerPlugins=function(e){for(var t=0,n=e.length;n>t;t++){var i=e[t];if(s.registerPlugin(i))return!0}return!1},s.initializeDefaultPlugins=function(){return null!=s.activePlugin||!s.pluginsRegistered&&!!s.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])},s.isReady=function(){return null!=s.activePlugin},s.getCapabilities=function(){return null==s.activePlugin?null:s.activePlugin.capabilities},s.getCapability=function(e){return null==s.activePlugin?null:s.activePlugin.capabilities[e]},s.initLoad=function(e,t,n,i,r){var a=s.registerSound(e,n,i,!1,r);return null!=a&&a},s.registerSound=function(e,n,i,r,a){if(!s.initializeDefaultPlugins())return!1;e instanceof Object&&(a=n,n=e.id,i=e.data,e=e.src);var o=s.parsePath(e,"sound",n,i);if(null==o)return!1;null!=n&&(s.idHash[n]=o.src);var u=null;null!=i&&(isNaN(i.channels)?isNaN(i)||(u=parseInt(i)):u=parseInt(i.channels));var l=s.activePlugin.register(o.src,u);if(null!=l&&(null!=l.numChannels&&(u=l.numChannels),t.create(o.src,u),null!=i&&isNaN(i)?i.channels=o.data.channels=u||t.maxPerChannel():i=o.data=u||t.maxPerChannel(),null!=l.tag?o.tag=l.tag:l.src&&(o.src=l.src),null!=l.completeHandler&&(o.completeHandler=l.completeHandler),l.type&&(o.type=l.type)),0!=r)if(s.preloadHash[o.src]||(s.preloadHash[o.src]=[]),s.preloadHash[o.src].push({src:e,id:n,data:i}),1==s.preloadHash[o.src].length)null==a&&(a=""),s.activePlugin.preload(o.src,l,a);else if(1==s.preloadHash[o.src][0])return!0;return o},s.registerManifest=function(e,t){for(var n=[],i=0,s=e.length;s>i;i++)n[i]=createjs.Sound.registerSound(e[i].src,e[i].id,e[i].data,e[i].preload,t);return n},s.removeSound=function(e){if(null==s.activePlugin)return!1;e instanceof Object&&(e=e.src),e=s.getSrcById(e);var n=s.parsePath(e);if(null==n)return!1;e=n.src;for(var i in s.idHash)s.idHash[i]==e&&delete s.idHash[i];return t.removeSrc(e),delete s.preloadHash[e],s.activePlugin.removeSound(e),!0},s.removeManifest=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t[n]=createjs.Sound.removeSound(e[n].src);return t},s.removeAllSounds=function(){s.idHash={},s.preloadHash={},t.removeAll(),s.activePlugin.removeAllSounds()},s.loadComplete=function(e){var t=s.parsePath(e,"sound");return e=t?s.getSrcById(t.src):s.getSrcById(e),1==s.preloadHash[e][0]},s.parsePath=function(e,t,n,i){"string"!=typeof e&&(e=e.toString());for(var r=e.split(s.DELIMITER),a={type:t||"sound",id:n,data:i},o=s.getCapabilities(),u=0,l=r.length;l>u;u++){var d=r[u],c=d.match(s.FILE_PATTERN);if(null==c)return!1;var h=c[4],p=c[5];if(o[p]&&createjs.indexOf(s.SUPPORTED_EXTENSIONS,p)>-1)return a.name=h,a.src=d,a.extension=p,a}return null},s.play=function(e,t,n,i,r,a,o){var u=s.createInstance(e),l=s.playInstance(u,t,n,i,r,a,o);return l||u.playFailed(),u},s.createInstance=function(n){if(!s.initializeDefaultPlugins())return s.defaultSoundInstance;n=s.getSrcById(n);var i=s.parsePath(n,"sound"),r=null;return null!=i&&null!=i.src?(t.create(i.src),r=s.activePlugin.create(i.src)):r=e.defaultSoundInstance,r.uniqueId=s.lastId++,r},s.setVolume=function(e){if(null==Number(e))return!1;if(e=Math.max(0,Math.min(1,e)),s.masterVolume=e,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(e))for(var t=this.instances,n=0,i=t.length;i>n;n++)t[n].setMasterVolume(e)},s.getVolume=function(){return s.masterVolume},s.setMute=function(e){if(null==e||void 0==e)return!1;if(this.masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this.instances,n=0,i=t.length;i>n;n++)t[n].setMasterMute(e);return!0},s.getMute=function(){return this.masterMute},s.stop=function(){for(var e=this.instances,t=e.length;t--;)e[t].stop()},s.playInstance=function(e,t,n,i,r,a,o){if(t instanceof Object&&(n=t.delay,i=t.offset,r=t.loop,a=t.volume,o=t.pan),t=t||s.defaultInterruptBehavior,null==n&&(n=0),null==i&&(i=e.getPosition()),null==r&&(r=0),null==a&&(a=e.volume),null==o&&(o=e.pan),0==n){var u=s.beginPlaying(e,t,i,r,a,o);if(!u)return!1}else{var l=setTimeout(function(){s.beginPlaying(e,t,i,r,a,o)},n);e.delayTimeoutId=l}return this.instances.push(e),!0},s.beginPlaying=function(e,n,i,s,r,a){if(!t.add(e,n))return!1;var o=e.beginPlaying(i,s,r,a);if(!o){var u=createjs.indexOf(this.instances,e);return u>-1&&this.instances.splice(u,1),!1}return!0},s.getSrcById=function(e){return null==s.idHash||null==s.idHash[e]?e:s.idHash[e]},s.playFinished=function(e){t.remove(e);var n=createjs.indexOf(this.instances,e);n>-1&&this.instances.splice(n,1)},createjs.Sound=e,t.channels={},t.create=function(e,n){var i=t.get(e);return null==i&&(t.channels[e]=new t(e,n),!0)},t.removeSrc=function(e){var n=t.get(e);return null!=n&&(n.removeAll(),delete t.channels[e],!0)},t.removeAll=function(){for(var e in t.channels)t.channels[e].removeAll();t.channels={}},t.add=function(e,n){var i=t.get(e.src);return null!=i&&i.add(e,n)},t.remove=function(e){var n=t.get(e.src);return null!=n&&(n.remove(e),!0)},t.maxPerChannel=function(){return r.maxDefault},t.get=function(e){return t.channels[e]};var r=t.prototype;r.src=null,r.max=null,r.maxDefault=100,r.length=0,r.init=function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&this.max==this.maxDefault,this.instances=[]},r.get=function(e){return this.instances[e]},r.add=function(e,t){return!!this.getSlot(t,e)&&(this.instances.push(e),this.length++,!0)},r.remove=function(e){var t=createjs.indexOf(this.instances,e);return-1!=t&&(this.instances.splice(t,1),this.length--,!0)},r.removeAll=function(){for(var e=this.length-1;e>=0;e--)this.instances[e].stop()},r.getSlot=function(t){for(var n,i,s=0,r=this.max;r>s;s++){if(n=this.get(s),null==n)return!0;(t!=e.INTERRUPT_NONE||n.playState==e.PLAY_FINISHED)&&(0!=s?n.playState==e.PLAY_FINISHED||n.playState==e.PLAY_INTERRUPTED||n.playState==e.PLAY_FAILED?i=n:(t==e.INTERRUPT_EARLY&&n.getPosition()<i.getPosition()||t==e.INTERRUPT_LATE&&n.getPosition()>i.getPosition())&&(i=n):i=n)}return null!=i&&(i.interrupt(),this.remove(i),!0)},r.toString=function(){return"[Sound SoundChannel]"},e.defaultSoundInstance=new n,null==createjs.proxy&&(createjs.proxy=function(){throw"Proxy has been moved to an external file, and must be included separately."}),i.init=function(){var e=window.navigator.userAgent;i.isFirefox=e.indexOf("Firefox")>-1,i.isOpera=null!=window.opera,i.isChrome=e.indexOf("Chrome")>-1,i.isIOS=e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1,i.isAndroid=e.indexOf("Android")>-1,i.isBlackberry=e.indexOf("Blackberry")>-1},i.init(),createjs.Sound.BrowserDetect=i}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.init()}var t=e;t.capabilities=null,t.isSupported=function(){var e=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!e&&!this.isFileXHRSupported())&&(t.generateCapabilities(),null!=t.context)},t.isFileXHRSupported=function(){var e=!0,t=new XMLHttpRequest;try{t.open("GET","fail.fail",!1)}catch(n){return e=!1}t.onerror=function(){e=!1},t.onload=function(){e=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(n){e=!1}return e},t.generateCapabilities=function(){if(null==t.capabilities){var e=document.createElement("audio");if(null==e.canPlayType)return null;if(window.webkitAudioContext)t.context=new webkitAudioContext;else{if(!window.AudioContext)return null;t.context=new AudioContext}t.compatibilitySetUp(),t.playEmptySound(),t.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,s=0,r=n.length;r>s;s++){var a=n[s],o=i[a]||a;t.capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}t.context.destination.numberOfChannels<2&&(t.capabilities.panning=!1),t.dynamicsCompressorNode=t.context.createDynamicsCompressor(),t.dynamicsCompressorNode.connect(t.context.destination),t.gainNode=t.context.createGain(),t.gainNode.connect(t.dynamicsCompressorNode)}},t.compatibilitySetUp=function(){if(!t.context.createGain){t.context.createGain=t.context.createGainNode;var e=t.context.createBufferSource();e.__proto__.start=e.__proto__.noteGrainOn,e.__proto__.stop=e.__proto__.noteOff,this.panningModel=0}},t.playEmptySound=function(){var e=this.context.createBuffer(1,1,22050),t=this.context.createBufferSource();t.buffer=e,t.connect(this.context.destination),t.start(0,0,0)};var n=e.prototype;n.capabilities=null,n.volume=1,n.context=null,n.panningModel="equalpower",n.dynamicsCompressorNode=null,n.gainNode=null,n.arrayBuffers=null,n.init=function(){this.capabilities=t.capabilities,this.arrayBuffers={},this.context=t.context,this.gainNode=t.gainNode,this.dynamicsCompressorNode=t.dynamicsCompressorNode},n.register=function(e){this.arrayBuffers[e]=!0;var t=new createjs.WebAudioPlugin.Loader(e,this);return{tag:t}},n.isPreloadStarted=function(e){return null!=this.arrayBuffers[e]},n.isPreloadComplete=function(e){return!(null==this.arrayBuffers[e]||1==this.arrayBuffers[e])},n.removeFromPreload=function(e){delete this.arrayBuffers[e]},n.removeSound=function(e){delete this.arrayBuffers[e]},n.removeAllSounds=function(){this.arrayBuffers={}},n.addPreloadResults=function(e,t){this.arrayBuffers[e]=t},n.handlePreloadComplete=function(){createjs.Sound.sendFileLoadEvent(this.src)},n.preload=function(e,t,n){this.arrayBuffers[e]=!0;var i=new createjs.WebAudioPlugin.Loader(e,this);i.onload=this.handlePreloadComplete,null!=n&&(i.src=n+i.src),i.load()},n.create=function(e){return this.isPreloadStarted(e)||this.preload(e),new createjs.WebAudioPlugin.SoundInstance(e,this)},n.setVolume=function(e){return this.volume=e,this.updateVolume(),!0},n.updateVolume=function(){var e=createjs.Sound.masterMute?0:this.volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},n.getVolume=function(){return this.volume},n.setMute=function(){return this.updateVolume(),!0},n.toString=function(){return"[WebAudioPlugin]"},createjs.WebAudioPlugin=e}(),function(){"use strict";function e(e,t){this.init(e,t)}var t=e.prototype;t.src=null,t.uniqueId=-1,t.playState=null,t.owner=null,t.offset=0,t.delay=0,t._volume=1,Object.defineProperty(t,"volume",{get:function(){return this._volume},set:function(e){return null!=Number(e)&&(e=Math.max(0,Math.min(1,e)),this._volume=e,void this.updateVolume())}}),t._pan=0,Object.defineProperty(t,"pan",{get:function(){return this._pan},set:function(e){return!(!this.owner.capabilities.panning||null==Number(e))&&(e=Math.max(-1,Math.min(1,e)),this._pan=e,void this.panNode.setPosition(e,0,-.5))}}),t.duration=0,t.remainingLoops=0,t.delayTimeoutId=null,t.soundCompleteTimeout=null,t.panNode=null,t.gainNode=null,t.sourceNode=null,t.sourceNodeNext=null,t.muted=!1,t.paused=!1,t.startTime=0,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,t.endedHandler=null,t.readyHandler=null,t.stalledHandler=null,t.sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},t.init=function(e,t){this.owner=t,this.src=e,this.panNode=this.owner.context.createPanner(),this.panNode.panningModel=this.owner.panningModel,this.gainNode=this.owner.context.createGain(),this.gainNode.connect(this.panNode),this.owner.isPreloadComplete(this.src)&&(this.duration=1e3*this.owner.arrayBuffers[this.src].duration),this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},t.cleanUp=function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode=this.cleanUpAudioNode(this.sourceNode),this.sourceNodeNext=this.cleanUpAudioNode(this.sourceNodeNext)),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),this.startTime=0,null!=window.createjs&&createjs.Sound.playFinished(this)},t.cleanUpAudioNode=function(e){return e&&(e.stop(0),e.disconnect(this.gainNode),e=null),e},t.interrupt=function(){this.playState=createjs.Sound.PLAY_INTERRUPTED,this.cleanUp(),this.paused=!1,this.sendEvent("interrupted")},t.handleSoundStalled=function(){this.sendEvent("failed")},t.handleSoundReady=function(){if(null!=window.createjs){if(1e3*this.offset>this.getDuration())return void this.playFailed();this.offset<0&&(this.offset=0),this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.panNode.connect(this.owner.gainNode);var e=this.owner.arrayBuffers[this.src].duration;this.sourceNode=this.createAndPlayAudioNode(this.owner.context.currentTime-e,this.offset),this.duration=1e3*e,this.startTime=this.sourceNode.startTime-this.offset,this.soundCompleteTimeout=setTimeout(this.endedHandler,1e3*(e-this.offset)),0!=this.remainingLoops&&(this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0))}},t.createAndPlayAudioNode=function(e,t){var n=this.owner.context.createBufferSource();return n.buffer=this.owner.arrayBuffers[this.src],n.connect(this.gainNode),this.owner.context.currentTime,n.startTime=e+n.buffer.duration,n.start(n.startTime,t,n.buffer.duration-t),n},t.play=function(e,t,n,i,s,r){this.cleanUp(),createjs.Sound.playInstance(this,e,t,n,i,s,r)},t.beginPlaying=function(e,t,n,i){return null!=window.createjs&&this.src?(this.offset=e/1e3,this.remainingLoops=t,this.volume=n,this.pan=i,this.owner.isPreloadComplete(this.src)?(this.handleSoundReady(null),this.sendEvent("succeeded"),1):void this.playFailed()):void 0},t.pause=function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.paused=!0,this.offset=this.owner.context.currentTime-this.startTime,this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0)},t.resume=function(){return!!this.paused&&(this.handleSoundReady(null),!0)},t.stop=function(){return this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.offset=0,!0},t.setVolume=function(e){return this.volume=e,!0},t.updateVolume=function(){var e=this.muted?0:this._volume;return e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e,!0)},t.getVolume=function(){return this.volume},t.setMute=function(e){return null!=e&&void 0!=e&&(this.muted=e,this.updateVolume(),!0)},t.getMute=function(){return this.muted},t.setPan=function(e){return this.pan=e,this.pan==e&&void 0},t.getPan=function(){return this.pan},t.getPosition=function(){if(this.paused||null==this.sourceNode)var e=this.offset;else var e=this.owner.context.currentTime-this.startTime;return 1e3*e},t.setPosition=function(e){return this.offset=e/1e3,this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),clearTimeout(this.soundCompleteTimeout)),this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this.handleSoundReady(null),!0},t.getDuration=function(){return this.duration},t.handleSoundComplete=function(){return this.offset=0,0!=this.remainingLoops?(this.remainingLoops--,this.sourceNodeNext?(this.cleanUpAudioNode(this.sourceNode),this.sourceNode=this.sourceNodeNext,this.startTime=this.sourceNode.startTime,this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0),this.soundCompleteTimeout=setTimeout(this.endedHandler,this.duration)):this.handleSoundReady(null),void this.sendEvent("loop")):void(null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete")))},t.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))},t.toString=function(){return"[WebAudioPlugin SoundInstance]"},createjs.EventDispatcher.initialize(e.prototype),createjs.WebAudioPlugin.SoundInstance=e}(),function(){"use strict";function e(e,t){this.init(e,t)}var t=e.prototype;t.request=null,t.owner=null,t.progress=-1,t.src=null,t.originalSrc=null,t.result=null,t.onload=null,t.onprogress=null,t.onError=null,t.init=function(e,t){this.src=e,this.originalSrc=e,this.owner=t},t.load=function(e){null!=e&&(this.src=e),this.request=new XMLHttpRequest,this.request.open("GET",this.src,!0),this.request.responseType="arraybuffer",this.request.onload=createjs.proxy(this.handleLoad,this),this.request.onError=createjs.proxy(this.handleError,this),this.request.onprogress=createjs.proxy(this.handleProgress,this),this.request.send()},t.handleProgress=function(e,t){this.progress=e/t,null!=this.onprogress&&this.onprogress({loaded:e,total:t,progress:this.progress})},t.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))},t.handleAudioDecoded=function(e){this.progress=1,this.result=e,this.src=this.originalSrc,this.owner.addPreloadResults(this.src,this.result),this.onload&&this.onload()},t.handleError=function(e){this.owner.removeSound(this.src),this.onerror&&this.onerror(e)},t.toString=function(){return"[WebAudioPlugin Loader]"},createjs.WebAudioPlugin.Loader=e}(),this.createjs=this.createjs||{},function(){"use strict";function e(){this.init()}var t=e;t.MAX_INSTANCES=30,t.capabilities=null,t.AUDIO_READY="canplaythrough",t.AUDIO_ENDED="ended",t.AUDIO_SEEKED="seeked",t.AUDIO_ERROR="error",t.AUDIO_STALLED="stalled",t.enableIOS=!1,t.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!t.enableIOS)return!1;t.generateCapabilities();var e=t.tag;return null!=e&&null!=t.capabilities},t.generateCapabilities=function(){if(null==t.capabilities){var e=t.tag=document.createElement("audio");if(null==e.canPlayType)return null;t.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,s=0,r=n.length;r>s;s++){var a=n[s],o=i[a]||a;t.capabilities[a]="no"!=e.canPlayType("audio/"+a)&&""!=e.canPlayType("audio/"+a)||"no"!=e.canPlayType("audio/"+o)&&""!=e.canPlayType("audio/"+o)}}};var n=e.prototype;n.capabilities=null,n.audioSources=null,n.defaultNumChannels=2,n.loadedHandler=null,n.init=function(){this.capabilities=t.capabilities,this.audioSources={}},n.register=function(e,t){this.audioSources[e]=!0;for(var n=createjs.HTMLAudioPlugin.TagPool.get(e),i=null,s=t||this.defaultNumChannels,r=0;s>r;r++)i=this.createTag(e),n.add(i);if(i.id=e,this.loadedHandler=createjs.proxy(this.handleTagLoad,this),i.addEventListener&&i.addEventListener("canplaythrough",this.loadedHandler),null==i.onreadystatechange)i.onreadystatechange=this.loadedHandler;else{var a=i.onreadystatechange;i.onreadystatechange=function(){a(),this.loadedHandler()}}return{tag:i,numChannels:s}},n.handleTagLoad=function(e){e.target.removeEventListener&&e.target.removeEventListener("canplaythrough",this.loadedHandler),e.target.onreadystatechange=null,e.target.src!=e.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(e.target.id)},n.createTag=function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},n.removeSound=function(e){delete this.audioSources[e],createjs.HTMLAudioPlugin.TagPool.remove(e)},n.removeAllSounds=function(){this.audioSources={},createjs.HTMLAudioPlugin.TagPool.removeAll()},n.create=function(e){if(!this.isPreloadStarted(e)){var t=createjs.HTMLAudioPlugin.TagPool.get(e),n=this.createTag(e);n.id=e,t.add(n),this.preload(e,{tag:n})}return new createjs.HTMLAudioPlugin.SoundInstance(e,this)},n.isPreloadStarted=function(e){return null!=this.audioSources[e]},n.preload=function(e,t,n){this.audioSources[e]=!0,null!=n&&(t.tag.src=n+e),new createjs.HTMLAudioPlugin.Loader(e,t.tag)},n.toString=function(){return"[HTMLAudioPlugin]"},createjs.HTMLAudioPlugin=e}(),function(){"use strict";function e(e,t){this.init(e,t)}var t=e.prototype;t.src=null,t.uniqueId=-1,t.playState=null,t.owner=null,t.loaded=!1,t.offset=0,t.delay=0,t._volume=1,Object.defineProperty(t,"volume",{get:function(){return this._volume},set:function(e){null!=Number(e)&&(e=Math.max(0,Math.min(1,e)),this._volume=e,this.updateVolume())}}),t.pan=0,t.duration=0,t.remainingLoops=0,t.delayTimeoutId=null,t.tag=null,t.muted=!1,t.paused=!1,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,t.endedHandler=null,t.readyHandler=null,t.stalledHandler=null,t.loopHandler=null,t.init=function(e,t){this.src=e,this.owner=t,this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this),this.loopHandler=createjs.proxy(this.handleSoundLoop,this)},t.sendEvent=function(e){var t=new createjs.Event(e);this.dispatchEvent(t)},t.cleanUp=function(){var e=this.tag;if(null!=e){e.pause(),e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{e.currentTime=0}catch(t){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,e),this.tag=null}clearTimeout(this.delayTimeoutId),null!=window.createjs&&createjs.Sound.playFinished(this)},t.interrupt=function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this.cleanUp(),this.paused=!1,this.sendEvent("interrupted"))},t.play=function(e,t,n,i,s,r){this.cleanUp(),createjs.Sound.playInstance(this,e,t,n,i,s,r)},t.beginPlaying=function(e,t,n,i){if(null==window.createjs)return-1;var s=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==s?(this.playFailed(),-1):(s.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),this.offset=e,this.volume=n,this.pan=i,this.updateVolume(),this.remainingLoops=t,4!==s.readyState?(s.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),s.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,!1),s.preload="auto",s.load()):this.handleSoundReady(null),this.sendEvent("succeeded"),1)},t.handleSoundStalled=function(){this.cleanUp(),this.sendEvent("failed")},t.handleSoundReady=function(){if(null!=window.createjs){if(this.duration=1e3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration())return void this.playFailed();this.offset>0&&(this.tag.currentTime=.001*this.offset),-1==this.remainingLoops&&(this.tag.loop=!0),0!=this.remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0),this.tag.play()}},t.pause=function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&null!=this.tag&&(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0)},t.resume=function(){return!(!this.paused||null==this.tag)&&(this.paused=!1,this.tag.play(),!0)},t.stop=function(){return this.offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),!0},t.setMasterVolume=function(){return this.updateVolume(),!0},t.setVolume=function(e){return this.volume=e,!0},t.updateVolume=function(){if(null!=this.tag){var e=this.muted||createjs.Sound.masterMute?0:this._volume*createjs.Sound.masterVolume;return e!=this.tag.volume&&(this.tag.volume=e),!0}return!1},t.getVolume=function(){return this.volume},t.setMasterMute=function(){return this.updateVolume(),!0},t.setMute=function(e){return null!=e&&void 0!=e&&(this.muted=e,this.updateVolume(),!0)},t.getMute=function(){return this.muted},t.setPan=function(){return!1},t.getPan=function(){return 0},t.getPosition=function(){return null==this.tag?this.offset:1e3*this.tag.currentTime},t.setPosition=function(e){if(null==this.tag)this.offset=e;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=.001*e}catch(t){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)}return!0},t.getDuration=function(){return this.duration},t.handleSoundComplete=function(){this.offset=0,null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete"))},t.handleSoundLoop=function(){this.offset=0,this.remainingLoops--,0==this.remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)),this.sendEvent("loop")},t.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))},t.toString=function(){return"[HTMLAudioPlugin SoundInstance]"},createjs.EventDispatcher.initialize(e.prototype),createjs.HTMLAudioPlugin.SoundInstance=e}(),function(){"use strict";function e(e,t){this.init(e,t)}var t=e.prototype;t.src=null,t.tag=null,t.preloadTimer=null,t.loadedHandler=null,t.init=function(e,t){if(this.src=e,this.tag=t,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var n=this.tag.onreadystatechange;this.tag.onreadystatechange=function(){n(),this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto",this.tag.load()},t.preloadTick=function(){var e=this.tag.buffered,t=this.tag.duration;e.length>0&&e.end(0)>=t-1&&this.handleTagLoaded()},t.handleTagLoaded=function(){clearInterval(this.preloadTimer)},t.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler),this.tag.onreadystatechange=null,createjs.Sound.sendFileLoadEvent(this.src)},t.toString=function(){return"[HTMLAudioPlugin Loader]"},createjs.HTMLAudioPlugin.Loader=e}(),function(){"use strict";function e(e){this.init(e)}var t=e;t.tags={},t.get=function(n){var i=t.tags[n];return null==i&&(i=t.tags[n]=new e(n)),i},t.remove=function(e){var n=t.tags[e];return null!=n&&(n.removeAll(),delete t.tags[e],!0)},t.removeAll=function(){for(var e in t.tags)t.tags[e].removeAll();
t.tags={}},t.getInstance=function(e){var n=t.tags[e];return null==n?null:n.get()},t.setInstance=function(e,n){var i=t.tags[e];return null==i?null:i.set(n)},t.checkSrc=function(e){var n=t.tags[e];return null==n?null:void n.checkSrcChange()};var n=e.prototype;n.src=null,n.length=0,n.available=0,n.tags=null,n.init=function(e){this.src=e,this.tags=[]},n.add=function(e){this.tags.push(e),this.length++,this.available++},n.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null,this.tags.length=0},n.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var e=this.tags.pop();return null==e.parentNode&&document.body.appendChild(e),e},n.set=function(e){var t=createjs.indexOf(this.tags,e);-1==t&&this.tags.push(e),this.available=this.tags.length},n.checkSrcChange=function(){for(var e=this.tags.length-1,t=this.tags[e].src;e--;)this.tags[e].src=t},n.toString=function(){return"[HTMLAudioPlugin TagPool]"},createjs.HTMLAudioPlugin.TagPool=e}();
//# sourceMappingURL=maps/soundjs-0.5.0.min.js.map
